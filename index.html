<html lang="en">
<head>
    <title>Test Contact Form</title>
    <link rel="stylesheet" href="contact_form.css">

    <p id="demo"></p>
    <script>
        function getTimeStamp()
        {
            var now = new Date;
            const utc_timestamp = Date.UTC(now.getUTCFullYear(),now.getUTCMonth(), now.getUTCDate() ,
                now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds())
            return utc_timestamp;
        }
        const x = getTimeStamp.call();
        document.getElementById("demo").innerHTML = x;
    </script>


</head>

<body>

<div class="container">
<form id="contact" action="" method="post">
    <h3>Contact Us Here!</h3>
    <h4>Contact us today, and get reply with in 24 hours!</h4>
    <fieldset>
        <input placeholder="Your Name" type="text" tabindex="1" required for="name_input" id="name_input" autofocus class="form-control"/>
    </fieldset>
    <fieldset>
        <input placeholder="Your Email Address" type="email" tabindex="2" required for="email_input" id="email_input" name="email_input" autofocus class="form-control"/>
    </fieldset>
    <fieldset>
        <input placeholder="Your Phone Number" type="tel" tabindex="3" required for="phone_input" id="phone_input" autofocus class="form-control"/>
    </fieldset>
    <fieldset>
        <input placeholder="Type your Message Here..." type="text" tabindex="4" required for="description_input" id="description_input" autofocus class="form-control"/>
    </fieldset>
    <fieldset>
        <button name="submit" type="submit" id='submitButton' data-submit="...Sending">Submit</button>
    </fieldset>
</form>
</div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script> <!-- Load ajax for the API -->
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/jquery.validate.min.js"></script>

<script src="validation.js"></script>

<script type="text/javascript">
    const API_URL = 'https://n1623jk298.execute-api.eu-west-1.amazonaws.com/prod/email'; <!-- URL of AWS Post API -->
    $("#submitButton").on('click', function(){
        if (jQuery('#contact').valid()) { <!-- only submits if contact form is valid-->
            jQuery.ajax({
                type: "POST",
                url: API_URL,
                contentType: "application/json",
                data: JSON.stringify({
                    "name": $('#name_input').val(),
                    "phone": $('#phone_input').val(),
                    "email": $('#email_input').val(),
                    "desc": $('#description_input').val(),
                    "URL": window.location.href
                })
            });
            alert("Thank YOU!!!!");
        /*
            $("#submitButton").html("Thank you! We'll be in touch shortly");
            $("#submitButton").attr("disabled", true);
            */
            return false;
        }
    });

</script>

</body>
</html>